


<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Web Presense Of Barry Steyn - Software Engineer, Entrepreneur">
    <meta name="author" content="Barry Steyn">
    <link rel="shortcut icon" href="theme/img/icon.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="theme/img/apple-touch-icon-144-precomposed.png">

    <title>Personal - 	Permutations
</title>

    <!-- Bootstrap Base CSS -->
    <link href="http://web-pages.github.io/notes/theme/css/base.css" rel="stylesheet" type="text/css">

    <!-- Custom CSS -->
    <link href="http://web-pages.github.io/notes/theme/css/main.css" rel="stylesheet">

    <!-- Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,800|Source+Code+Pro" rel="stylesheet">

<link rel="stylesheet" href="http://web-pages.github.io/notes/theme/css/print.css" type="text/css" media="print" />
</head>

<body id="page-top">
    <!-- Top Nav Bar -->
    <nav id="navbar-top" class="navbar navbar-fixed-top navbar-offset-start " role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand hidden-grid-float-breakpoint" href="/index.html#page-top">
                    <img alt="brand for doctrina" src="http://web-pages.github.io/notes/theme/img/apple-touch-icon-144-precomposed.png" style="float: left; max-height:100%;" />
                    <span style="padding-left: 0.5em;">Personal</span>
                </a>
                
                <button type="button" class="navbar-toggle" style="float: left; margin-left: 15px; margin-right: 0px;" data-toggle="collapse" data-target="#navigation-menu">
<img src="http://web-pages.github.io/notes/theme/img/apple-touch-icon-144-precomposed.png" style="max-height:1.0em; padding-right: 0.2em" />Personal                </button>

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-menu-toc">
                    Table Of Contents
                </button>
            </div>

            <div class="collapse navbar-collapse navbar-right" id="navigation-menu">
                        <div>
                            <ul class="nav navbar-nav">
<li class="visible-grid-float-breakpoint"><a href="/index.html">Home</a></li>                                <li><a href="category/algorithm.html"><span>Algorithms</span></a></li> 
                                <li><a href="#comments"><span>Comments</span></a></li> 
                                <li><a href="#footer"><span>Connect</span></a></li> 
                            </ul>
                        </div>
            </div>

            <div class="collapse navbar-collapse navbar-right" id="navigation-menu-toc">
	
		<div class="visible-grid-float-breakpoint">
					<div class="toc"><span class="toctitle">Table Of Contents</span><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#time-efficiency">Time Efficiency</a></li>
<li><a href="#barrys-recursive-permutation-generator">Barry's Recursive Permutation Generator</a><ul>
<li><a href="#advantages">Advantages</a></li>
<li><a href="#disadvantages">Disadvantages</a></li>
</ul>
</li>
<li><a href="#backtracking-with-exchanges">Backtracking With Exchanges</a><ul>
<li><a href="#advantages_1">Advantages</a></li>
<li><a href="#disadvantages_1">Disadvantages</a></li>
</ul>
</li>
<li><a href="#heaps-algorithm">Heap's algorithm</a><ul>
<li><a href="#advantages_2">Advantages</a></li>
<li><a href="#disadvantages_2">Disadvantages</a></li>
</ul>
</li>
</ul>
</div>

		</div>
            </div>

        </div>
    </nav>
    <!-- End Top Nav Bar -->

    <!-- User Defined Sections -->
<section class="title">
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<h1><a href="" rel="bookmark" title="Permalink to Permutations">	Permutations
</a></h1>
			</div>
		</div>
	</div>
</section>

<section class="content">
	<div class="container">
		<div class="row">
				<div class="col-xs-12 text-center metadata">
					<ul class="center-list">
						<li><b>Published</b>: 02  Jul  2015</li>
					</ul>
				</div>
		</div>
		<div class="row">
				<div class="col-md-3  hidden-grid-float-breakpoint">
					<nav id="toc-affix">
								<div class="toc"><span class="toctitle">Table Of Contents</span><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#time-efficiency">Time Efficiency</a></li>
<li><a href="#barrys-recursive-permutation-generator">Barry's Recursive Permutation Generator</a><ul>
<li><a href="#advantages">Advantages</a></li>
<li><a href="#disadvantages">Disadvantages</a></li>
</ul>
</li>
<li><a href="#backtracking-with-exchanges">Backtracking With Exchanges</a><ul>
<li><a href="#advantages_1">Advantages</a></li>
<li><a href="#disadvantages_1">Disadvantages</a></li>
</ul>
</li>
<li><a href="#heaps-algorithm">Heap's algorithm</a><ul>
<li><a href="#advantages_2">Advantages</a></li>
<li><a href="#disadvantages_2">Disadvantages</a></li>
</ul>
</li>
</ul>
</div>

					</nav>
				</div>

			<div id="content" class="col-xs-12 col-sm-10 col-md-9 col-sm-offset-1 col-md-offset-0 ">
	<div class="article-content">
		<h1 id="introduction">Introduction<a href="#introduction" title="Permanent link" class="headerlink"></a></h1>
<p>There are many ways to calculate permutations. <a href="https://en.wikipedia.org/wiki/Robert_Sedgewick_(computer_scientist)">Robert Sedgewick</a><sup class="print">L1</sup> wrote
a survey paper in 1977 titled <a href="pdfs/Permutation_Generation_Methods.pdf">Permutation Generation Methods</a><sup class="print">L2</sup> that is still very cited.
The paper indicates that at that time, <a href="https://en.wikipedia.org/wiki/Heap's_algorithm">Heap's algorithm</a><sup class="print">L3</sup>
was the most effective algorithm for producing permutations.</p>
<h1 id="time-efficiency">Time Efficiency<a href="#time-efficiency" title="Permanent link" class="headerlink"></a></h1>
<p>Iterating through permutations of a list of size <span class="math">\(n\)</span> will always be <span class="math">\(O(n!)\)</span>. Therefore
even with todays computers, we cannot calculate large values of <span class="math">\(n\)</span>.</p>
<h1 id="barrys-recursive-permutation-generator">Barry's Recursive Permutation Generator<a href="#barrys-recursive-permutation-generator" title="Permanent link" class="headerlink"></a></h1>
<p>This algorithm is even worse than <span class="math">\(O(n!)\)</span>, it is: <span class="math">\(O(n!\cdot n)\)</span></p>
<table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">permute</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">output</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">permutation</span><span class="p">;</span>

  <span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">]()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">input</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="p">{</span>
      <span class="n">output</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">permutation</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">input</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">permutation</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">input</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="n">input</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">+</span><span class="n">i</span><span class="p">);</span>
      <span class="n">generate</span><span class="p">();</span>
      <span class="n">input</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">permutation</span><span class="p">.</span><span class="n">back</span><span class="p">());</span>
      <span class="n">permutation</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="n">generate</span><span class="p">();</span>
  <span class="k">return</span> <span class="n">output</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
<h2 id="advantages">Advantages<a href="#advantages" title="Permanent link" class="headerlink"></a></h2>
<ol>
<li>I understand this method quite well.</li>
<li>It can produce permutations in lexical order (provided the list starts off sorted).</li>
</ol>
<h2 id="disadvantages">Disadvantages<a href="#disadvantages" title="Permanent link" class="headerlink"></a></h2>
<ol>
<li>It is extremely inefficient in time, with <span class="math">\(O(n!\cdot n)\)</span>.</li>
<li>It requires <span class="math">\(O(n)\)</span> space needed.</li>
</ol>
<h1 id="backtracking-with-exchanges">Backtracking With Exchanges<a href="#backtracking-with-exchanges" title="Permanent link" class="headerlink"></a></h1>
<p>This algorithm is much simpler and is <span class="math">\(O(n!)\)</span>. It cannot not produce permutations
in lexigraphical order. It is still not as efficient as Heap's algorithm due to
there being a constant of 2 in the big-o, in fact, it is in reality <span class="math">\(O(2\cdot n!)\)</span>.
This makes a difference when we are dealing with <span class="math">\(n!\)</span>.</p>
<table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">permute</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">input</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">output</span><span class="p">;</span>

  <span class="c1">//Lambda to generate permutations</span>
  <span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">int</span> <span class="n">N</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">N</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">output</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">swap</span><span class="p">(</span><span class="n">input</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">input</span><span class="p">[</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
      <span class="n">generate</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
      <span class="n">swap</span><span class="p">(</span><span class="n">input</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">input</span><span class="p">[</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="n">generate</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
  <span class="k">return</span> <span class="n">output</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
<h2 id="advantages_1">Advantages<a href="#advantages_1" title="Permanent link" class="headerlink"></a></h2>
<ol>
<li>It is very simple to implement and write on a whiteboard.</li>
<li>It is time <span class="math">\(O(n!)\)</span> and space <span class="math">\(O(1)\)</span>.</li>
</ol>
<h2 id="disadvantages_1">Disadvantages<a href="#disadvantages_1" title="Permanent link" class="headerlink"></a></h2>
<ol>
<li>Still not as efficient as Heap's algorithm</li>
<li>Cannot iterate in lexical order</li>
</ol>
<h1 id="heaps-algorithm">Heap's algorithm<a href="#heaps-algorithm" title="Permanent link" class="headerlink"></a></h1>
<p>Heap's permuation algorithm is very simple to implement</p>
<table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">permute</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">input</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">output</span><span class="p">;</span>

  <span class="n">std</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">generate</span> <span class="o">=</span> <span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="kt">int</span> <span class="n">N</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">N</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">output</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">generate</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
      <span class="k">const</span> <span class="kt">size_t</span> <span class="n">swapidx</span> <span class="o">=</span> <span class="p">(</span><span class="n">N</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">i</span><span class="p">;</span>
      <span class="n">swap</span><span class="p">(</span><span class="n">input</span><span class="p">[</span><span class="n">swapidx</span><span class="p">],</span> <span class="n">input</span><span class="p">[</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="n">generate</span><span class="p">(</span><span class="n">input</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>

  <span class="k">return</span> <span class="n">output</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
<h2 id="advantages_2">Advantages<a href="#advantages_2" title="Permanent link" class="headerlink"></a></h2>
<ol>
<li>It is very simple to implement and write on a whiteboard.</li>
<li>It is time <span class="math">\(O(n!)\)</span> and space <span class="math">\(O(1)\)</span>.</li>
<li>The constant for factor for <span class="math">\(O(n!)\)</span> is 1. This is a huge advantage when dealing
 with factorials.</li>
</ol>
<h2 id="disadvantages_2">Disadvantages<a href="#disadvantages_2" title="Permanent link" class="headerlink"></a></h2>
<ol>
<li>Does not iterate in lexical order</li>
<li>Does not leave the state of the original list in the same order when finished.</li>
</ol>
<p>Also, it should be noted that there may be faster algorithms nowadays.</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "true";

    if (true) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }
    
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: '[math]'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script><h2 class="print">Links</h2><div style="margin-left: 2.0em;" class="print"><ol class="print-links"><li>https://en.wikipedia.org/wiki/Robert_Sedgewick_(computer_scientist)</li><li>pdfs/Permutation_Generation_Methods.pdf</li><li>https://en.wikipedia.org/wiki/Heap's_algorithm</li></ol></div>
	</div>
			</div>
		</div>
	</div>
</section>

<!-- Footer -->
<section class="text-center footer">
	<div>
	    <p>&copy; <script>document.write(new Date().getFullYear());</script> Barry Steyn. This Website Is Private, Meant Only For The Author.
	</div>
</section>
<!-- End Footer -->
    <!-- End Sections -->

    <!-- JavaScript -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript">
        var scrollspies = {};
        scrollspies.body = {
            'target': '#navigation-menu'
        };

		//Do not remove navbar-offset-start class
	var navbarOffset = false;

	//Scrollspy object
    scrollspies.body = {
        'target': '.toc'
    };


	$(function() {
		$('#content div.article-content a[href^="http"').attr('target','_blank');
	});
    </script>
    <script src="http://web-pages.github.io/notes/theme/js/main.js"></script>
    <!-- End JavaScript -->
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-33789117-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>

</html>